# Embedding Model Configuration
USE_GEMINI=false                    # true=Gemini, false=OpenAI
USE_SMALL_MODEL=true                # true=use text-embedding-3-small (85% cheaper), false=use text-embedding-3-large

# MongoDB Configuration
MONGO_USER=admin
MONGO_PASSWORD=your_password_here
MONGO_HOST=127.0.0.1
MONGO_PORT=12017
MONGO_DB=backend_sweeten
MONGO_COLLECTION=call_transcripts

# MongoDB Filter Settings (leave empty to process all documents)
MONGO_FILTER_ORG_ID=                     # Filter by organization_id (optional)
MONGO_FILTER_MIN_TRANSCRIPTIONS=0        # Minimum number of transcriptions (0 = no filter)
MONGO_FILTER_TIMESTAMP_GTE=              # Unix timestamp start (optional)
MONGO_FILTER_TIMESTAMP_LT=               # Unix timestamp end (optional)

# PostgreSQL Configuration (deprecated - keeping for reference)
PG_DBNAME=angel_db
PG_USER=angel_user
PG_PASSWORD=your_password_here
PG_HOST=127.0.0.1
PG_PORT=5432

# Weaviate Configuration (for vector embeddings)
WEAVIATE_SCHEME=http
WEAVIATE_HOST=localhost:8080
WEAVIATE_API_KEY=                   # optional, leave empty for local development

# API Keys (only one required based on USE_GEMINI setting)
OPENAI_API_KEY=your_openai_key_here
GEMINI_API_KEY=your_gemini_key_here

# Processing Configuration
CHUNK_SIZE=800                      # words per chunk
MAX_BATCH_SIZE=100                  # max chunks per API call
BATCH_COMMIT_SIZE=500               # commit to DB every N inserts
MAX_RETRIES=3                       # API retry attempts
RETRY_DELAY=5                       # seconds between retries

# Rate Limiting Configuration (NEW - prevents hitting API limits)
INTER_BATCH_DELAY=0.5               # delay between API batches in seconds (0.5 recommended)
ADAPTIVE_BATCH_SIZING=true          # automatically reduce batch size when hitting rate limits
MIN_BATCH_SIZE=10                   # minimum batch size when reducing (safety floor)

# Ultra Optimization Settings
CHECK_EXISTING=true                 # Skip conversations that already have embeddings
REMOVE_FILLER_WORDS=false           # Remove filler words (NOT recommended - breaks semantic meaning)
REMOVE_HIPAA_KEYWORDS=true          # Remove PHI: SSN, phone, email, DOB, MRN (RECOMMENDED for healthcare)
MAX_WORKERS=3                       # Parallel processing threads (2-3 recommended)

# HIPAA Filtering Details (when REMOVE_HIPAA_KEYWORDS=true):
# - Redacts: SSN, phone numbers, emails, dates (when PHI-related), MRN/Patient IDs
# - Preserves: Case sensitivity, semantic meaning, non-PHI dates
# - Uses context-aware patterns (e.g., "DOB: 1/1/1980" â†’ "DOB: [REDACTED_DATE]")
